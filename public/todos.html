<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Todos</title>
  <link rel="stylesheet" href="/styles.css">
</head>
<body>
  <div class="container">
    <div class="header">
      <div class="brand"><h1>Todos</h1></div>
  <nav class="nav"><a href="/dashboard.html">Dashboard</a><a href="/projects.html">Projects</a><a href="/account.html">Account</a> <span id="auth-actions"></span></nav>
    </div>
    <div class="grid">
      <div class="card">
        <h2>Your Todos</h2>
        <ul id="todos-list" class="list"></ul>
      </div>
      <div class="card">
        <h3>Create</h3>
        <form id="create-form" class="stack">
          <label>Title <input id="title" /></label>
          <label>Description <textarea id="description"></textarea></label>
          <button class="btn" type="submit">Create</button>
        </form>
      </div>
    </div>
  </div>
  <script src="/app.js"></script>
  <script>
    async function createHandler(e){ e.preventDefault(); const title=document.getElementById('title').value; const description=document.getElementById('description').value; try{ await api.request('/api/todos',{method:'POST', body:{title,description}}); loadTodos(); }catch(err){ alert('Create failed: '+(err.error||JSON.stringify(err))); } }
    document.getElementById('create-form').addEventListener('submit', createHandler);
    async function loadTodos(){ await loadTodosList(); }
  </script>
</body>
</html>
